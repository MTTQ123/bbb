---
const { post } = Astro.props;

---
<article
    class="bg-white dark:bg-[#2b2b2b] rounded-2xl shadow-md hover:shadow-xl transition flex flex-col md:flex-row overflow-hidden"
>
    {
        post.data.image.url != "" ? (
            <img
                src={post.data.image.url}
                alt={post.data.image.alt}
                class="w-full md:w-1/3 h-48 md:h-auto object-cover"
            />
        ) : (
            <div />
        )
    }
    <div class="p-6 flex flex-col justify-center w-full">
        <h2 class="text-2xl font-semibold text-green-700 dark:text-theme-6">
            <a href=`/posts/${post.id}/`>{post.data.title}</a>
        </h2>
        <p class="mt-2 text-gray-600 dark:text-gray-400">
            {post.data.description}
        </p>
        <div
            class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 mt-1 mb-2"
        >
            <div>
                {
                    post.data.tags.map((tag: string) => {
                        return (
                            <span class="bg-gray-1 dark:bg-gray-5 text-theme-6 dark:text-theme-2 px-2 py-0.5 mr-0.5 rounded-full text-xs">
                                <a href={`/tags/${tag}`}>{tag}</a>
                            </span>
                        );
                    })
                }
            </div>

            <span class="text-sm text-gray-500 dark:text-gray-500">
                发布于
                {post.data.pubDate.toLocaleDateString()}
            </span>
        </div>
        <a
            href=`/posts/${post.id}/`
            class="w-fit text-green-600 dark:text-theme-6 mt-3 hover:underline"
        >
            阅读全文 →
        </a>
    </div>
</article>